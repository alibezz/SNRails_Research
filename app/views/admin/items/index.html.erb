<%= title _("Listing Items") %>

<%= render :partial => 'list_items' %>

<%= render :partial => 'page_links' %>

  <%= 
#sortable_element 'page_3', 
#        :complete => visual_effect(:highlight, 'page_3'), 
#        :url => { :action => "set_item_to_page"},
#        :failure => "$('error').innerHTML= request.responseText",
#        :constraint => false,
#        :dropOnEmpty => true,
#        :containment =>  ['list_items']
  %>


  <%= 
#sortable_element 'page_items', 
#        :complete => visual_effect(:highlight, 'page_items'), 
#        :url => { :action => "reorder_pages"},
#        :failure => "$('error').innerHTML= request.responseText",
#        :constraint => false,
#        :dropOnEmpty => true,
#        :containment =>  ['page_items']
  %>

  <div id="helperDIV" class="green box">helper</div>
  <%= draggable_element :helperDIV %>
<div id="revertDIV" class="green box">revert</div>
  <%= draggable_element :revertDIV, :revert => true, :ghosting => true %> 

<div id="handleDIV" class="green box">
    <span id="myHandle">handle</span>
  </div>
  <%= draggable_element :handleDIV %>

 <div id="changeDIV" class="green box">change</div>
  <%= draggable_element :changeDIV, :change => "function(draggable) {
    draggable.element.innerHTML=draggable. currentDelta();
  }" %>

 <div id="constraintDIV" class="green box">constraint</div>
  <%= draggable_element :constraintDIV, :constraint => 'vertical' %> 

 <div id="snapDIV_50" class="green box">snap to 50</div>
  <%= draggable_element :snapDIV_50, :snap => 50 %>

  <div id="snapDIV_50_100" class="green box">snap to 50,100</div>
  <%= draggable_element :snapDIV_50_100, :snap => '[50,100]' %>

  <div id="snapDIV_function" class="green box">snap to function</div>
  <%= draggable_element :snapDIV_function, :snap => "function(x, y) {
    new_x = (x > 100) ? 100 : ((x < 0) ? 0 : x);
    new_y = (y > 100) ? 100 : ((y < 0) ? 0 : y);
    return [ new_x, new_y ];
  }" %> 

  <div id="dropDIV" class="pink box">drop</div>
  <%= javascript_tag "Droppables.add('dropDIV', {hoverclass:'hover'})" %>

  <div id="dropHelperDIV" class="pink box">drop here.</div>
  <%= drop_receiving_element :dropHelperDIV, :url => {:controller => 'items', :action => 'index'}, :hoverclass => 'hover' %>

<%= #page_entries_info @items
%>

<%= #link_to _("Back"), parent_object 
%>

<%= #link_to 'New Item', new_object_url 
%>

<div id="error">
</div>
